(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{451:function(t,e,s){t.exports=s.p+"3684b10db5b39114c29b9f3f0145d586.obj"},452:function(t,e,s){t.exports=s.p+"4340f2d545aa5e03cfd96612fe83df4d.obj"},454:function(t,e,s){"use strict";s.r(e);var n=s(309),o=s(307);const i=/^[og]\s*(.+)?/,r=/^mtllib /,a=/^usemtl /,c=/^usemap /,l=new o.Bc,h=new o.Bc,u=new o.Bc,p=new o.Bc,d=new o.Bc;function m(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);const s=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const n={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){const e={index:"number"==typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(let t=this.materials.length-1;t>=0;t--)this.materials[t].groupCount<=0&&this.materials.splice(t,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},s&&s.name&&"function"==typeof s.clone){const t=s.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseNormalIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseUVIndex:function(t,e){const s=parseInt(t,10);return 2*(s>=0?s-1:s+e/2)},addVertex:function(t,e,s){const n=this.vertices,o=this.object.geometry.vertices;o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2]),o.push(n[s+0],n[s+1],n[s+2])},addVertexPoint:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,s){const n=this.normals,o=this.object.geometry.normals;o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2]),o.push(n[s+0],n[s+1],n[s+2])},addFaceNormal:function(t,e,s){const n=this.vertices,o=this.object.geometry.normals;l.fromArray(n,t),h.fromArray(n,e),u.fromArray(n,s),d.subVectors(u,h),p.subVectors(l,h),d.cross(p),d.normalize(),o.push(d.x,d.y,d.z),o.push(d.x,d.y,d.z),o.push(d.x,d.y,d.z)},addColor:function(t,e,s){const n=this.colors,o=this.object.geometry.colors;void 0!==n[t]&&o.push(n[t+0],n[t+1],n[t+2]),void 0!==n[e]&&o.push(n[e+0],n[e+1],n[e+2]),void 0!==n[s]&&o.push(n[s+0],n[s+1],n[s+2])},addUV:function(t,e,s){const n=this.uvs,o=this.object.geometry.uvs;o.push(n[t+0],n[t+1]),o.push(n[e+0],n[e+1]),o.push(n[s+0],n[s+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,s,n,o,i,r,a,c){const l=this.vertices.length;let h=this.parseVertexIndex(t,l),u=this.parseVertexIndex(e,l),p=this.parseVertexIndex(s,l);if(this.addVertex(h,u,p),this.addColor(h,u,p),void 0!==r&&""!==r){const t=this.normals.length;h=this.parseNormalIndex(r,t),u=this.parseNormalIndex(a,t),p=this.parseNormalIndex(c,t),this.addNormal(h,u,p)}else this.addFaceNormal(h,u,p);if(void 0!==n&&""!==n){const t=this.uvs.length;h=this.parseUVIndex(n,t),u=this.parseUVIndex(o,t),p=this.parseUVIndex(i,t),this.addUV(h,u,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let s=0,n=t.length;s<n;s++){const n=this.parseVertexIndex(t[s],e);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const s=this.vertices.length,n=this.uvs.length;for(let e=0,n=t.length;e<n;e++)this.addVertexLine(this.parseVertexIndex(t[e],s));for(let t=0,s=e.length;t<s;t++)this.addUVLine(this.parseUVIndex(e[t],n))}};return t.startObject("",!1),t}class f extends o.ib{constructor(t){super(t),this.materials=null}load(t,e,s,n){const i=this,r=new o.K(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,(function(s){try{e(i.parse(s))}catch(e){n?n(e):console.error(e),i.manager.itemError(t)}}),s,n)}setMaterials(t){return this.materials=t,this}parse(t){const e=new m;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));const s=t.split("\n");let n="",l="",h=0,u=[];const p="function"==typeof"".trimLeft;for(let t=0,o=s.length;t<o;t++)if(n=s[t],n=p?n.trimLeft():n.trim(),h=n.length,0!==h&&(l=n.charAt(0),"#"!==l))if("v"===l){const t=n.split(/\s+/);switch(t[0]){case"v":e.vertices.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])),t.length>=7?e.colors.push(parseFloat(t[4]),parseFloat(t[5]),parseFloat(t[6])):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]));break;case"vt":e.uvs.push(parseFloat(t[1]),parseFloat(t[2]))}}else if("f"===l){const t=n.substr(1).trim().split(/\s+/),s=[];for(let e=0,n=t.length;e<n;e++){const n=t[e];if(n.length>0){const t=n.split("/");s.push(t)}}const o=s[0];for(let t=1,n=s.length-1;t<n;t++){const n=s[t],i=s[t+1];e.addFace(o[0],n[0],i[0],o[1],n[1],i[1],o[2],n[2],i[2])}}else if("l"===l){const t=n.substring(1).trim().split(" ");let s=[];const o=[];if(-1===n.indexOf("/"))s=t;else for(let e=0,n=t.length;e<n;e++){const n=t[e].split("/");""!==n[0]&&s.push(n[0]),""!==n[1]&&o.push(n[1])}e.addLineGeometry(s,o)}else if("p"===l){const t=n.substr(1).trim().split(" ");e.addPointGeometry(t)}else if(null!==(u=i.exec(n))){const t=(" "+u[0].substr(1).trim()).substr(1);e.startObject(t)}else if(a.test(n))e.object.startMaterial(n.substring(7).trim(),e.materialLibraries);else if(r.test(n))e.materialLibraries.push(n.substring(7).trim());else if(c.test(n))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===l){if(u=n.split(" "),u.length>1){const t=u[1].trim().toLowerCase();e.object.smooth="0"!==t&&"off"!==t}else e.object.smooth=!0;const t=e.object.currentMaterial();t&&(t.smooth=e.object.smooth)}else{if("\0"===n)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+n+'"')}e.finalize();const d=new o.S;d.materialLibraries=[].concat(e.materialLibraries);if(!0===!(1===e.objects.length&&0===e.objects[0].geometry.vertices.length))for(let t=0,s=e.objects.length;t<s;t++){const s=e.objects[t],n=s.geometry,i=s.materials,r="Line"===n.type,a="Points"===n.type;let c=!1;if(0===n.vertices.length)continue;const l=new o.j;l.setAttribute("position",new o.L(n.vertices,3)),n.normals.length>0&&l.setAttribute("normal",new o.L(n.normals,3)),n.colors.length>0&&(c=!0,l.setAttribute("color",new o.L(n.colors,3))),!0===n.hasUVIndices&&l.setAttribute("uv",new o.L(n.uvs,2));const h=[];for(let t=0,s=i.length;t<s;t++){const s=i[t],n=s.name+"_"+s.smooth+"_"+c;let l=e.materials[n];if(null!==this.materials)if(l=this.materials.create(s.name),!r||!l||l instanceof o.ab){if(a&&l&&!(l instanceof o.Ib)){const t=new o.Ib({size:10,sizeAttenuation:!1});o.mb.prototype.copy.call(t,l),t.color.copy(l.color),t.map=l.map,l=t}}else{const t=new o.ab;o.mb.prototype.copy.call(t,l),t.color.copy(l.color),l=t}void 0===l&&(l=r?new o.ab:a?new o.Ib({size:1,sizeAttenuation:!1}):new o.sb,l.name=s.name,l.flatShading=!s.smooth,l.vertexColors=c,e.materials[n]=l),h.push(l)}let u;if(h.length>1){for(let t=0,e=i.length;t<e;t++){const e=i[t];l.addGroup(e.groupStart,e.groupCount,t)}u=r?new o.db(l,h):a?new o.Hb(l,h):new o.nb(l,h)}else u=r?new o.db(l,h[0]):a?new o.Hb(l,h[0]):new o.nb(l,h[0]);u.name=s.name,d.add(u)}else if(e.vertices.length>0){const t=new o.Ib({size:1,sizeAttenuation:!1}),s=new o.j;s.setAttribute("position",new o.L(e.vertices,3)),e.colors.length>0&&void 0!==e.colors[0]&&(s.setAttribute("color",new o.L(e.colors,3)),t.vertexColors=!0);const n=new o.Hb(s,t);d.add(n)}return d}}var g,b={extends:n.VglObject3d,beforeCreate:function(){g||(g=new f)},data:function(){return{obj:null}},computed:{inst:function(){return this.obj?this.obj:n.VglObject3d.computed.inst.call(this)}},props:{src:{type:String,required:!0}},watch:{src:{handler:function(t){var e=this;g.load(t,(function(t){e.obj=t,e.change()}))},immediate:!0}}},v=s(451),y=s.n(v),j=s(452),x=s.n(j),w={components:{VglRenderer:n.VglRenderer,VglScene:n.VglScene,VglAmbientLight:n.VglAmbientLight,VglDirectionalLight:n.VglDirectionalLight,VglPerspectiveCamera:n.VglPerspectiveCamera,VglObjLoader:b},data:function(){return{name:"seahorse",model:{seahorse:y.a,cottage:x.a}}}},V=s(40),L=Object(V.a)(w,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vgl-renderer",{scopedSlots:t._u([{key:"scene",fn:function(){return[s("vgl-scene",[s("vgl-obj-loader",{attrs:{src:t.model[t.name],"position-y":"cottage"===t.name?250:0,"position-z":"seahorse"===t.name?300:5,"rotation-x":"cottage"===t.name?-1.5:0,"rotation-y":"cottage"===t.name?1:0}}),t._v(" "),s("vgl-ambient-light",{attrs:{intensity:.5}}),t._v(" "),s("vgl-directional-light",{attrs:{"position-x":1,"position-y":1,"position-z":1,intensity:.5}})],1)]},proxy:!0},{key:"camera",fn:function(){return[s("vgl-perspective-camera",{attrs:{position:"spherical","position-radius":290,rotation:"lookAt"}})]},proxy:!0}])}),t._v(" "),s("aside",[s("select",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.name=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"seahorse"}},[t._v("\n        Seahorse\n      ")]),t._v(" "),s("option",{attrs:{value:"cottage"}},[t._v("\n        Cottage\n      ")])])])],1)}),[],!1,null,null,null);e.default=L.exports}}]);